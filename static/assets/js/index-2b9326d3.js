import{T as e,E as t}from"./@wangeditor-c98dfed2.js";import{_ as a}from"./page-container-7fa4b6af.js";import{a6 as l,a7 as o}from"./index-5b2bc764.js";import{c as i}from"./store-d3bd5447.js";import{s as r}from"./pinia-1ca0c29b.js";import{s,B as n,k as p,q as c,a4 as d,a6 as u,f as m,c as b,_ as g,u as f,$ as _,a8 as w,L as v,a3 as j}from"./@vue-11129043.js";import{m as h}from"./ant-design-vue-cc438dd6.js";import"./axios-93d3568f.js";import"./@babel-eab0ef53.js";import"./qs-8fb0a9f1.js";import"./side-channel-ee547e73.js";import"./get-intrinsic-53528089.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-566c57e8.js";import"./object-inspect-5c6480f3.js";import"./vue-router-36397834.js";import"./dayjs-1ff0b700.js";import"./vue3-colorpicker-e1559e09.js";import"./vue-types-0fd36d85.js";import"./is-plain-object-39134198.js";import"./tinycolor2-e232e212.js";import"./@vueuse-94329f85.js";import"./@aesoper-316802a3.js";import"./vue3-angle-2884cf46.js";import"./gradient-parser-c9367eab.js";import"./lodash-es-0ceb8576.js";import"./@popperjs-31624eb1.js";import"./resize-observer-polyfill-9cd09a67.js";import"./@ant-design-477981d5.js";import"./@ctrl-16df70a4.js";import"./dom-align-6a5270eb.js";import"./async-validator-604317c1.js";import"./scroll-into-view-if-needed-8ce8502d.js";import"./compute-scroll-into-view-cce79123.js";import"./vue-demi-a81ff0a7.js";const y=g("div",{class:"input-tip"},"此设置会更改前台的网站标题",-1),x=g("div",{class:"input-tip"},"此设置会更改网站图标, 支持图床和直接返回图片的API接口",-1),k=g("div",{class:"input-tip"},"此设置会更改前后台左侧LOGO图片, 支持图床和直接返回图片的API接口",-1),q=g("div",{class:"input-tip"},"此设置会更改前后台的背景图, 支持图床和直接返回图片的API接口",-1),C=v("打开"),O=v("关闭"),L=g("div",{class:"input-tip"},"此设置会更改是否可用注册功能",-1),U={style:{border:"1px solid #ccc"}},I=v(" 是否确认关闭程序？ "),S=v("关闭程序"),A=v(" 是否确认重启程序？ "),F=v("重启程序"),G=v("提交"),P={__name:"index",setup(v){const{isMobile:P}=r(i),V=s(),D={excludeKeys:["group-video","group-image","headerSelect","italic","group-more-style"]},W={placeholder:"请输入公告内容..."};n((()=>{const e=V.value;null!=e&&e.destroy()}));const z=e=>{V.value=e},B=e=>{l({splicingData:{type:e}})},E=p({web_title:"",web_ico:"",web_logo:"",web_bg:"",register:"1",notice:""}),K=c((()=>({web_title:[{required:!1,trigger:"change"}],web_ico:[{required:!1,trigger:"change"}],web_logo:[{required:!1,trigger:"change"}],web_bg:[{required:!1,trigger:"change"}],register:[{required:!1,trigger:"change"}],notice:[{required:!1,trigger:"change"}]}))),M={labelCol:{span:3},wrapperCol:{span:16}},T=e=>{o({data:[{key:"web_title",value:E.web_title},{key:"web_ico",value:E.web_ico},{key:"web_logo",value:E.web_logo},{key:"web_bg",value:E.web_bg},{key:"register",value:E.register},{key:"notice",value:E.notice}]}).then((()=>{i.getWebSetting(),h.success("设置成功")}))},$=e=>{},H=()=>{i.getWebSetting().then((e=>{E.web_title=e.web_title||"",E.web_ico=e.web_ico||"",E.web_logo=e.web_logo||"",E.register=e.register||"",E.web_bg=e.web_bg||"",E.notice=e.notice||""}))};return(l,o)=>{const i=j("a-input"),r=j("a-form-item"),s=j("a-textarea"),n=j("a-radio"),p=j("a-radio-group"),c=j("a-button"),v=j("a-popconfirm"),h=j("a-form");return m(),d(a,{onInitData:H,isScroll:""},{top:u((({height:a})=>[b(h,w({model:E,name:"basic",rules:f(K)},M,{autocomplete:"off",onFinish:T,class:"flex flex-column page-form",style:{height:a-48+"px"},onFinishFailed:$}),{default:u((()=>[g("div",{class:_(["flex-base",f(P)?"":"overflow-scroll"])},[b(r,{label:"网站标题",name:"web_title","has-feedback":""},{default:u((()=>[b(i,{value:E.web_title,"onUpdate:value":o[0]||(o[0]=e=>E.web_title=e),"allow-clear":"",placeholder:"请输入网站标题"},null,8,["value"]),y])),_:1}),b(r,{label:"网站图标",name:"web_ico","has-feedback":""},{default:u((()=>[b(s,{value:E.web_ico,"onUpdate:value":o[1]||(o[1]=e=>E.web_ico=e),"allow-clear":"",placeholder:"请输入网站图标"},null,8,["value"]),x])),_:1}),b(r,{label:"网站LOGO",name:"web_logo","has-feedback":""},{default:u((()=>[b(s,{value:E.web_logo,"onUpdate:value":o[2]||(o[2]=e=>E.web_logo=e),"allow-clear":"",placeholder:"请输入网站LOGO"},null,8,["value"]),k])),_:1}),b(r,{label:"网站背景",name:"web_bg","has-feedback":""},{default:u((()=>[b(s,{value:E.web_bg,"onUpdate:value":o[3]||(o[3]=e=>E.web_bg=e),"allow-clear":"",placeholder:"请输入网站背景"},null,8,["value"]),q])),_:1}),b(r,{label:"注册开关",name:"register"},{default:u((()=>[b(p,{value:E.register,"onUpdate:value":o[4]||(o[4]=e=>E.register=e)},{default:u((()=>[b(n,{value:"1",name:"type"},{default:u((()=>[C])),_:1}),b(n,{value:"2",name:"type"},{default:u((()=>[O])),_:1})])),_:1},8,["value"]),L])),_:1}),b(r,{label:"网站公告",name:"notice"},{default:u((()=>[g("div",U,[b(f(e),{style:{"border-bottom":"1px solid #ccc"},editor:f(V),defaultConfig:D,mode:l.mode},null,8,["editor","mode"]),b(f(t),{style:{height:"300px","overflow-y":"hidden"},modelValue:E.notice,"onUpdate:modelValue":o[5]||(o[5]=e=>E.notice=e),defaultConfig:W,mode:l.mode,onOnCreated:z},null,8,["modelValue","mode"])])])),_:1})],2),b(r,{label:"",style:{"margin-top":"15px"},"wrapper-col":{span:16,offset:3}},{default:u((()=>[b(v,{placement:"topLeft","ok-text":"确认","cancel-text":"取消",onConfirm:o[6]||(o[6]=e=>B("shutdown"))},{title:u((()=>[I])),default:u((()=>[b(c,{type:"danger","html-type":"submit"},{default:u((()=>[S])),_:1})])),_:1}),b(v,{placement:"topLeft","ok-text":"确认","cancel-text":"取消",onConfirm:o[7]||(o[7]=e=>B("restart"))},{title:u((()=>[A])),default:u((()=>[b(c,{type:"danger",style:{"margin-left":"20px"},"html-type":"submit"},{default:u((()=>[F])),_:1})])),_:1}),b(c,{type:"primary",style:{"margin-left":"20px"},"html-type":"submit"},{default:u((()=>[G])),_:1})])),_:1})])),_:2},1040,["model","rules","style"])])),_:1})}}};export{P as default};
